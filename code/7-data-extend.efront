/*
  Ugh, so many things wrong with this program,
  aside from it not working!
 */

LIBNAME USER CURRENT;

DATA USER.T_INVESTMENT_STRUCTURE (DROP = COMMITMENT_FUND TOTAL_COMMITMENT_FUND);

    EXTEND USER.T_INVESTMENT_STRUCTURE (KEEP = COMMITMENT_FUND TOTAL_COMMITMENT_FUND);

    COLUMN STAKE TYPE = FLOAT;

    IF NZ(TOTAL_COMMITMENT_FUND, 0) <> 0 THEN
        STAKE = COMMITMENT_FUND / TOTAL_COMMITMENT_FUND;
    END;

    STAKE = NZ(STAKE, 1);

RUN;
